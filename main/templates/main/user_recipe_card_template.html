{% load myfilters %}

<div class="panel panel-primary user-recipe-card">

  {# <a href="{% url 'recipe_detail' recipe.id %}"><span class="div-link"></span></a> #}

  <div class="panel-heading">
    <a href="{% url 'recipe_detail' recipe.id %}"><h3 class="panel-title">{{ recipe.name }}</h3></a>
  </div>

  <div class="panel-body">
    <div class="img-wrapper">
      <a href="{% url 'recipe_detail' recipe.id %}">
        <img src="/media/{{ recipe.photo }}" class="img-responsive img-thumbnail center-block">
      </a>
    </div>
    <hr>
    <div>
      <span class="text-muted">Creator: <a href="{% url 'user_detail' recipe.creator.username %}" >{{ recipe.creator }}</a></span>
    </div>
    <!--<p>
      <span class="text-muted">Creator: {{ recipe.creator }}</span>
    </p>-->

    <!--<div class="col-md-6">
      <button type="button" class="ingredients btn btn-small btn-default" data-toggle="popover" data-content="{{ recipe.ingredients.all | list_ingredients }}">
        <span>Ingredients <i class="fa fa-angle-down"></i></span>
      </button>
    </div>-->
  </div>

  <div class="panel-footer">
    <div class="likeDislikeSaveButtons">
      <div class="btn-group btn-group-sm" role="group">

        {# Star icon for saving recipe #}
        {% if recipe in saved_recipes %}
          <button type="button" class="btn btn-info save" data-recipe-id="{{ recipe.id }}" data-num-saves="{{ recipe.num_saves}}">
            <i class="fa fa-star"></i> <span>{{ recipe.num_saves }}</span>
          </button>
        {% else  %}
          <button type="button" class="btn btn-default save" data-recipe-id="{{ recipe.id }}" data-num-saves="{{ recipe.num_saves }}">
            <i class="fa fa-star"></i> <span>{{ recipe.num_saves }}</span>
          </button>
        {% endif %}
      </div>

      <div class="btn-group btn-group-sm pull-right" role="group">
      
        {# Thumbs up and down for liking and disliking recipe #}
        {% if recipe in liked_recipes %}
          <button type="button" class="btn btn-primary like" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-up"></i></button>
          <button type="button" class="btn btn-default dislike" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-down"></i></button>
        {% elif recipe in disliked_recipes %}
          <button type="button" class="btn btn-default like" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-up"></i></button>
          <button type="button" class="btn btn-danger dislike" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-down"></i></button>
        {% else %}
          <button type="button" class="btn btn-default like" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-up"></i></button>
          <button type="button" class="btn btn-default dislike" data-recipe-id="{{ recipe.id }}"><i class="fa fa-thumbs-down"></i></button>
        {% endif %}
      </div>
    </div>
  </div>

</div>
